{"version":3,"sources":["ng://ng-twitter-timeline/lib/ng-twitter-timeline.service.ts","ng://ng-twitter-timeline/lib/ng-twitter-timeline.component.ts","ng://ng-twitter-timeline/lib/ng-twitter-timeline.module.ts"],"names":["NgTwitterTimelineService","prototype","loadScript","_this","this","Observable","create","observer","startScriptLoad","window","ready","twttr","next","complete","d","s","id","url","js","fjs","t","document","TWITTER_SCRIPT_ID","TWITTER_WIDGET_URL","getElementsByTagName","getElementById","createElement","src","parentNode","insertBefore","_e","f","push","Injectable","args","providedIn","NgTwitterTimelineComponent","ngAfterViewInit","ngTwitterTimelineService","subscribe","nativeElement","element","widgets","createTimeline","dataSrc","opts","then","embed","console","log","catch","message","err","Component","selector","template","ElementRef","Input","NgTwitterTimelineModule","NgModule","declarations","imports","exports"],"mappings":"oTAAA,IAAAA,GAcEA,EAAAC,UAAAC,WAAA,WAAA,IAAAC,EAAAC,KACE,OAAOC,EAAAA,WAAWC,OAAM,SAACC,GACvBJ,EAAKK,kBAELC,OAAc,MAAEC,MAAK,SACUC,GAC3BJ,EAASK,KAAKD,GACdJ,EAASM,gBAMTb,EAAAC,UAAAO,gBAAR,WACqB,IAAUM,EAAGC,EAAGC,EAAIC,EACjCC,EACAC,EACAC,EAHNX,OAAc,OAAeK,EAqB3BO,SArB8BN,EAqBpB,SArBuBC,EAqBbZ,KAAKkB,kBArBYL,EAqBOb,KAAKmB,mBAnB7CJ,EAAML,EAAEU,qBAAqBT,GAAG,GAChCK,EAAIX,OAAc,OAAK,GAEvBK,EAAEW,eAAeT,MAIrBE,EAAKJ,EAAEY,cAAcX,IAClBC,GAAKA,EACRE,EAAGS,IAAMV,EACTE,EAAIS,WAAWC,aAAaX,EAAIC,GAEhCC,EAAEU,GAAK,GAEPV,EAAEV,MAAK,SAAaqB,GAClBX,EAAEU,GAAGE,KAAKD,KAXHX,wBA/Bda,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,uJAOZ,SAAAnC,IAHSI,KAAAkB,kBAAoB,cACpBlB,KAAAmB,mBAAqB,0CCThC,IAAAa,GAcEA,EAAAnC,UAAAoC,gBAAA,WAAA,IAAAlC,EAAAC,KACEA,KAAKkC,yBAAyBpC,aAAaqC,UAAS,SAAC5B,OAC/C6B,EAAgBrC,EAAKsC,QAAQD,cAEjC/B,OAAc,MAAEiC,QAAQC,eAAexC,EAAKyC,QAASJ,EAAerC,EAAK0C,MAAMC,KAAI,SAAkBC,GACnGC,QAAQC,IAAI,yBAA0BF,KACrCG,SAAK,SAAwBC,GAC5BH,QAAQC,IAAI,4BAA6BE,MAG9C,SAAEC,GACDJ,QAAQC,IAAI,qCAAsCG,IACnD,mCAvBJC,EAAAA,UAASnB,KAAA,CAAC,CACToB,SAAU,sBACVC,SAAU,2DAJJvD,SAD0BwD,EAAAA,+CASjCC,EAAAA,oBACAA,EAAAA,SAkBDrB,GAjBE,SAAAA,EAAoBE,EAA4DG,GAA5DrC,KAAAkC,yBAAAA,EAA4DlC,KAAAqC,QAAAA,ECXlF,IAAAiB,uBAGCC,EAAAA,SAAQzB,KAAA,CAAC,CACR0B,aAAc,CAACxB,GACfyB,QAAS,GAETC,QAAS,CAAC1B,OAE2BsB,GANvC,SAAAA","sourcesContent":["import { Injectable } from '@angular/core';\nimport {Observable} from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgTwitterTimelineService {\n\n  readonly TWITTER_SCRIPT_ID = 'twitter-wjs';\n  readonly TWITTER_WIDGET_URL = 'https://platform.twitter.com/widgets.js';\n\n  constructor() {\n  }\n\n  loadScript(): Observable<any> {\n    return Observable.create(observer => {\n      this.startScriptLoad();\n\n      window['twttr'].ready(\n        function onLoadTwitterScript(twttr) {\n          observer.next(twttr);\n          observer.complete();\n        }\n      );\n    });\n  }\n\n  private startScriptLoad() {\n    window['twttr'] = (function (d, s, id, url) {\n      let js;\n      let fjs = d.getElementsByTagName(s)[0];\n      let t = window['twttr'] || {};\n\n      if (d.getElementById(id)) {\n        return t;\n      }\n\n      js = d.createElement(s);\n      js.id = id;\n      js.src = url;\n      fjs.parentNode.insertBefore(js, fjs);\n\n      t._e = [];\n\n      t.ready = function (f) {\n        t._e.push(f);\n      };\n\n      return t;\n    }(document, 'script', this.TWITTER_SCRIPT_ID, this.TWITTER_WIDGET_URL));\n  }\n}\n","import {AfterViewInit, Component, ElementRef, Input} from '@angular/core';\nimport {NgTwitterTimelineService} from './ng-twitter-timeline.service';\n\n@Component({\n  selector: 'ng-twitter-timeline',\n  template: `<div></div>`,\n  styles: []\n})\nexport class NgTwitterTimelineComponent implements AfterViewInit {\n@Input() dataSrc: object;\n@Input() opts: object;\n  constructor(private ngTwitterTimelineService: NgTwitterTimelineService, private element: ElementRef) {\n  }\n\n  ngAfterViewInit() {\n    this.ngTwitterTimelineService.loadScript().subscribe(twttr => {\n      let nativeElement = this.element.nativeElement;\n\n      window['twttr'].widgets.createTimeline(this.dataSrc, nativeElement, this.opts).then(function success(embed) {\n        console.log('Created tweet widget: ', embed);\n      }).catch(function creationError(message) {\n          console.log('Could not create widget: ', message);\n        }\n      );\n    }, err => {\n      console.log('****  ERROR LOADING TWITTER WIDGET', err);\n    }, () => {});\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NgTwitterTimelineComponent } from './ng-twitter-timeline.component';\n\n@NgModule({\n  declarations: [NgTwitterTimelineComponent],\n  imports: [\n  ],\n  exports: [NgTwitterTimelineComponent]\n})\nexport class NgTwitterTimelineModule { }\n"]}